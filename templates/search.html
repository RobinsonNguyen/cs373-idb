{% extends "base.html" %}

	{% block head %}
		<title>{% for term in terms %} {{term}} {% endfor %} - PokeMasters</title>
		<link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/search.css') }}">
	{% endblock %}

	{% block content %}
		

	<div class="search-panel">

		<h2 style="text-align: center;">
			Search Results for: "
			{% for term in terms %}
				{{term}}
				{% if not loop.last %}
					, 
				{% endif %}
			{% endfor %}"
		</h2>

		<div class="container">
			<ul id="search-tabs" class="nav nav-tabs" role="tablist">
				<li role="presentation" class="active"><a href="#pokemon" aria-controls="pokemon" role="tab" data-toggle="tab">Pokemon ({{results['pokemon']['and']|length}})</a></li>
				<li role="presentation"><a href="#moves" aria-controls="moves" role="tab" data-toggle="tab">Moves ({{results['moves']['and']|length}})</a></li>
				<li role="presentation"><a href="#locations" aria-controls="locations" role="tab" data-toggle="tab">Locations (0)</a></li>
			</ul>
			<div class="tab-content">
				<div role="tabpanel" class="tab-pane fade in active" id="pokemon">
					{% if terms|length > 1 %}
						<table class="table table-hover">
							<thead>
								<tr>
									<th> Results containing all search terms</th>
								</tr>
							</thead>
							<tbody>
								{% if results['pokemon']['and']|length > 0 %}
									{% for pokemon in results['pokemon']['and'] %} 
										<tr>
											<td>{{pokemon.POKEMON_NAME}}</td>
										</tr>
									{% endfor %}
								{% else %}
									<tr>
										<td>No results contain all of the search terms</td>
									</tr>
								{% endif %}
							</tbody>
						</table>
						<table class="table table-hover">
							<thead>
								<tr>
									<th> Results containing any search terms</th>
								</tr>
							</thead>
							<tbody>
								{% if results['pokemon']['or']|length > 0 %}
									{% for pokemon in results['pokemon']['or'] %} 
										<tr>
											<td>{{pokemon.POKEMON_NAME}}</td>
										</tr>
									{% endfor %}
								{% else %}
									<tr>
										<td>No results show any of the search terms</td>
									</tr>
								{% endif %}
							</tbody>
						</table>
					{% else %}
						<table class="table table-hover">
							<thead>
								<tr>
									<th>Results</th>
								</tr>
							</thead>
							<tbody>
								{% if results['pokemon']['or']|length > 0 %}
									{% for pokemon in results['pokemon']['or'] %} 
										<tr>
											<td>{{pokemon.POKEMON_NAME}}</td>
										</tr>
									{% endfor %}
								{% else %}
									<tr>
										<td>No results</td>
									</tr>
								{% endif %}
							</tbody>
						</table>
					{% endif %}

				</div>
				<div role="tabpanel" class="tab-pane fade" id="moves">
					{% if terms|length > 1 %}
						<table class="table table-hover">
							<thead>
								<tr>
									<th> Results containing all search terms</th>
								</tr>
							</thead>
							<tbody>
								{% if results['moves']['and']|length > 0 %}
									{% for move in results['moves']['and'] %} 
										<tr>
											<td>{{move.MOVE_NAME}}</td>
										</tr>
									{% endfor %}
								{% else %}
									<tr>
										<td>No results contain all of the search terms</td>
									</tr>
								{% endif %}
							</tbody>
						</table>
						<table class="table table-hover">
							<thead>
								<tr>
									<th> Results containing any search terms</th>
								</tr>
							</thead>
							<tbody>
								{% if results['moves']['or']|length > 0 %}
									{% for move in results['moves']['or'] %} 
										<tr>
											<td>{{move.MOVE_NAME}}</td>
										</tr>
									{% endfor %}
								{% else %}
									<tr>
										<td>No results show any of the search terms</td>
									</tr>
								{% endif %}
							</tbody>
						</table>
					{% else %}
						<table class="table table-hover">
							<thead>
								<tr>
									<th>Results</th>
								</tr>
							</thead>
							<tbody>
								{% if results['moves']['or']|length > 0 %}
									{% for move in results['moves']['or'] %} 
										<tr>
											<td>{{move.MOVE_NAME}}</td>
										</tr>
									{% endfor %}
								{% else %}
									<tr>
										<td>No results</td>
									</tr>
								{% endif %}
							</tbody>
						</table>
					{% endif %}
				</div>
				<div role="tabpanel" class="tab-pane fade" id="locations">
					<table class="table table-hover">
						<thead>
							<tr>
								<th>Name</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Test</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>

		
	{% endblock %}